<!-- ユーザのパスワード変更画面 -->
<!doctype html>
<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <link href="password-change.css" rel="stylesheet" />
    <meta name="viewport" content="width=device-width" />
    <title>PawLovers_password-change</title>
  </head>

  <body>
    <div class="left">
      <button id="main-btn" onclick="location.href='./main.html'">トップページへ戻る</button>
      <div id="advertisement">広告</div>
    </div>

    <div class="center">
      <div id="password">パスワード変更</div>
      <p id="error-message"></p>

      <div class="input-container">
        <input type="email" id="now-email" placeholder="今のメールアドレス" />
      </div>

      <div class="input-container">
        <input type="password" id="now-password" placeholder="今のパスワード" />
      </div>

      <div class="input-container">
        <input type="password" id="new-password" placeholder="新しいパスワード" />
        <p id="note">※半角英数字8~16文字</p>
      </div>

      <div class="input-container">
        <input type="password" id="new-password-con" placeholder="新しいパスワード(再確認)" />
      </div>

      <button id="ok">OK</button>
    </div>

    <div class="right">
      <div id="advertisement2">広告</div>
    </div>

    <script>
      const ok = document.getElementById('ok'); //OKボタン取得
      const errorMessage = document.getElementById('error-message'); //エラーメッセージ取得

      // OKボタンが押された時
      ok.addEventListener('click', () => {
          const nowEmail = document.getElementById('now-email').value; //今のメールアドレス取得
          const nowPassword = document.getElementById('now-password').value; //今のパスワード取得
          const newPassword = document.getElementById('new-password').value; //新しいパスワード取得
          const newPasswordCon = document.getElementById('new-password-con').value; //新しいパスワード(確認用)取得

          if (!nowEmail && !nowPassword && !newPassword && !newPasswordCon) { //入力欄が空白の時
              errorMessage.textContent = '※間違っています。もう一度入力してください。'; //エラーメッセージを表示させる
              return;
          }else if(newPassword != newPasswordCon){
              errorMessage.textContent = '※間違っています。もう一度入力してください。'; //エラーメッセージを表示させる
              return;
          }else if (nowEmail === 'admin@example.com' && nowPassword === 'password123') { //ログイン成功時
              window.location.href = './change.html'; // トップ画面に遷移
          } else { //ログイン失敗時
              errorMessage.textContent = '※間違っています。もう一度入力してください。'; //エラーメッセージを表示させる
          }
      });
    </script>
  </body>
</html>
